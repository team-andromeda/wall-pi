export function run(e,t,l){console.log(e),console.log("Transform start"),console.log(e),require("moment");for(let E=0;E<e.value.length;E++){let t=new Date(e.value[E].start.dateTime);console.log("REAL = "+e.value[E].start.dateTime),console.log("START = "+t.toISOString());let l=new Date(e.value[E].end.dateTime);console.log("REAL = "+e.value[E].end.dateTime.toString()),console.log("END = "+l.toISOString());let o=new Date(e.value[E].start.dateTime);o.setTime(o.getTime()+144e5);let s=new Date(e.value[E].end.dateTime);s.setTime(s.getTime()+144e5),e.value[E].start.dateTime=o.toISOString(),e.value[E].end.dateTime=s.toISOString(),console.log("Adjusted start = "+e.value[E].start.dateTime),console.log("Adjusted End = "+e.value[E].end.dateTime)}document.getElementById("details").innerHTML="     "+t+" | "+l;var o=document.getElementById("bookings"),s=new Date,r=s.getHours(),n=s.getMinutes();n<10&&(n="0"+n);var a=[];for(let E=0;E<e.value.length;E++){var u,i;v=e.value[E].start.dateTime;var g=e.value[E].end.dateTime;for(let e=0;e<11;e++)g=g.substr(1),console.log(g);g=g.substr(0,5),console.log(g),i=g.substr(0,2),console.log(i),u=g.substr(3,6),i>r&&a.push(v),console.log(u)}a.sort();var d="";for(let E=0;E<e.value.length;E++)d=d+"||||"+a[E];for(let E=0;E<a.length;E++)for(let t=0;t<e.value.length;t++){var v;if("FILTER"!==e.value[t].location.uniqueId&&(v=e.value[t].start.dateTime)==a[E]){var c,m=e.value[t].end.dateTime;for(let e=0;e<11;e++)v=v.substr(1);v=v.substr(0,5);for(let e=0;e<11;e++)m=m.substr(1);m=m.substr(0,5),c=e.value[t].subject;var T=o.insertRow(E+1),b=T.insertCell(0);b.style.fontSize="22px";var y=T.insertCell(1);y.style.fontSize="22px",b.innerHTML=v+" - "+m,b.style.color="white",b.style.height="70px",y.innerHTML=c,y.style.color="white",y.style.height="70px";var f=e.value[t].end.dateTime;for(let e=0;e<15;e++)f=f.substr(1);var h=(f=f.substr(0,6)).substr(0,3),S=(f.substr(4,6),e.value[t].end.dateTime);for(let e=0;e<15;e++)p=f.substr(1);S=S.substr(0,6);var p=v.substr(0,2),x=v.substr(3,4);h=i,console.log("EH: "+h+"/"+r),console.log("SH: "+p+"/"+r),console.log("SM:"+x+"/"+n),h>=r&&r>=p&&(h>r?(b.style.backgroundColor="rgb(100,0,0)",b.style.height="100px",b.style.fontSize="35px",y.style.backgroundColor="rgb(100,0,0)",y.style.height="100px",y.style.fontSize="35px"):n>=x&&(b.style.backgroundColor="rgb(100,0,0)",y.style.backgroundColor="rgb(100,0,0)"))}}if(0==a.length){var I=document.getElementById("check");I.innerHTML="NO UPCOMING BOOKINGS TODAY",I.style.height="300px",I.style.backgroundColor="rgb(200,200,200)",I.style.fontSize="60px",I.style.color="rgb(200,0,0)",o.style.display="none"}console.log("Transform end")};